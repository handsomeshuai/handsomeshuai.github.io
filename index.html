<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="Where there is a will there is a way">
<meta property="og:type" content="website">
<meta property="og:title" content="帅博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="帅博客">
<meta property="og:description" content="Where there is a will there is a way">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="帅博客">
<meta name="twitter:description" content="Where there is a will there is a way">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"always"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> 帅博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">帅博客</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle"></p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            Sitemap
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/15/oop4/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Shuai Li">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="帅博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="帅博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/15/oop4/" itemprop="url">
                  oop4
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-15T23:37:28+08:00">
                2017-02-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-迭代"><a href="#1-迭代" class="headerlink" title="1. 迭代"></a>1. 迭代</h3><pre><code>就是循环
产品迭代, 将一个产品做出来, 做出一个 &quot;稳定&quot; 版本.
在其基础上通过需求调整, 算法的调整等等一系列调整得到一个新的 &quot;稳定&quot; 版本.
这个过程就是迭代过程.

例如使用 DOM-Core 方法设置 div 的样式

&lt;div style=&quot;width: 200px; height: 100p; border: 1px dashed red;&quot;&gt;&lt;/div&gt;

设置 div 的宽度为 300px

div.style.width = &apos;300px&apos;;

div.setAttribute( &apos;style&apos;, &apos;width: 300px; height: 100p; border: 1px dashed red;&apos; )

var style = div.getAttribute( &apos;style&apos; );
var styles = style.split( &apos;;&apos; );
var styleObj = {};
styles.forEach(function ( v ) {
    var tmp = v.split( &apos;:&apos; );
    styleObj[ tmp[ 0 ] ] = tmp[ 1 ];
});
// ...
// 要修改样式只需要修改对象的属性即可, 最后要修改标签的时候
var style2 = $.map( styleObj, function ( v, k ) {
    return k + &apos;:&apos; + v;
}).join( &apos;;&apos; );
// ...


在 jq 中 
append 表示的是追加, 含义是将 后面参数中的 DOM 追加到 前面 对象的 子元素的结尾处. 与
    appendChild 一致.
$( &apos;body&apos; ).append( $( &apos;&lt;img src=&quot;....jpg&quot;/&gt;&apos; ) )
与
body.appendChild( img ) 
是一样的

appendTo 表示追加, 含义讲前面的元素 追加到 后面的元素的子元素的结尾处.
$( &apos;&lt;img src=&quot;...jpg&quot;/&gt;&apos; ).appendTo( &apos;body&apos; )
</code></pre><h3 id="2-自己封装一个函数完成数组遍历-要求模拟数组的-forEach-方法"><a href="#2-自己封装一个函数完成数组遍历-要求模拟数组的-forEach-方法" class="headerlink" title="2. 自己封装一个函数完成数组遍历, 要求模拟数组的 forEach 方法"></a>2. 自己封装一个函数完成数组遍历, 要求模拟数组的 forEach 方法</h3><pre><code>function each( arr, callback ) {

} 

each( [ 1, 2, 3 ], function ( v, i ) { 

    // ...

})

1&gt; 函数中如果没有代码 数组的每一项就什么也不做
2&gt; 函数中写什么代码 数组中的每一项就做什么事情
3&gt; 也就是说函数在处理数组的每一项

由于要处理每一项, 因此必须要遍历数组的每一个元素
即有
function each( arr, callback ) {
    for ( var i= 0; i &lt; arr.length; i++ ) {
        var item = arr[ i ];

    }
} 
使用函数处理每一项就是用函数处理 item. 就是说将 item 传入函数处理
function each( arr, callback ) {
    for ( var i= 0; i &lt; arr.length; i++ ) {
        var item = arr[ i ];
        callback( item );
    }
}

// 按照 数组的 forEach 方法实现 自己的 each 方法
// 要求 有两个参数, 一个是需要遍历的数组, 一个是回调函数, 要求回调函数有两个参数, 分别是 v, i
function each( arr, callback ) {
    for ( var i = 0; i &lt; arr.length; i++ ) {
        callback( arr[ i ], i );
    }
}

// 改良第一步, 添加 this 的引用, 参数向 jq 靠拢
function each( arr, callback ) {
    for ( var i = 0; i &lt; arr.length; i++ ) {
        callback.call( arr[ i ], i, arr[ i ] );
    }
}
// 第二次改良, 在返回 false 的时候跳出循环, 注意, 返回 undefined, 0, 等不会跳出
// 所以这里一定有一个完全等于, 跳出循环就是跳出 each 函数内的 for 即需要 break
function each( arr, callback ) {
    for ( var i = 0; i &lt; arr.length; i++ ) {
        if ( callback.call( arr[ i ], i, arr[ i ] ) === false ) break;
    }
}
// 第三个改良就是返回被遍历的对象
function each( arr, callback ) {
    for ( var i = 0; i &lt; arr.length; i++ ) {
        if ( callback.call( arr[ i ], i, arr[ i ] ) === false ) break;
    }
    return arr;
}

遍历对象与遍历数组 有什么区别?
-&gt; 遍历对象是将对象的所有键值对遍历出来( 包括自然数项, 如果有的话 )
-&gt; 遍历数组就是在遍历自然数项

让我们的 each 方法可以遍历对象
要求, 不考虑数组, 只用 each 遍历对象 代码怎么写?
function each( obj, callback ) {
    for ( var k in obj ) {
        if ( callback.call( obj[ k ], k, obj[ k ] ) === false ) break;
    }
    return obj;
}

判断数组或伪数组的依据就是 length &gt;= 0


function each( arr, callback ) {
    if ( arr.length &gt;= 0 ) {
        for ( var i = 0; i &lt; arr.length; i++ ) {
            if ( callback.call( arr[ i ], i, arr[ i ] ) === false ) break;
        }
    } else {
        for ( var k in arr ) {
            if ( callback.call( arr[ k ], k, arr[ k ] ) === false ) break;
        }
    }
    return arr;
}
</code></pre><h3 id="3-封装-map"><a href="#3-封装-map" class="headerlink" title="3. 封装 map"></a>3. 封装 map</h3><pre><code>首先考虑, 只是处理 v 返回 结果( 实现一个 与 数组 的 map 一样的方法 )
function map( arr, callback ) {
    var rest = [];
    for ( var i = 0; i &lt; arr.length; i++ ) {
        // 要返回的数据是 回调函数的 返回值
        rest.push( callback( arr[ i ], i ) );
    }
    return rest;
}
// 向 jq 靠拢
// 1&gt; 不返回则不加到数组中
// 2&gt; 遍历对象
function map( arr, callback ) {
    var rest = [], tmp;
    if ( arr.length &gt;= 0 ) {
        for ( var i = 0; i &lt; arr.length; i++ ) {
            tmp = callback( arr[ i ], i );
            if ( tmp != null ) {
                rest.push( tmp );
            }
        }
    } else {
        for ( var k in arr ) {
            tmp = callback( arr[ k ], k );
            if ( tmp != null ) {
                rest.push( tmp );
            }
        }
    }
    return rest;
}
</code></pre><h3 id="4-再回到原始的问题"><a href="#4-再回到原始的问题" class="headerlink" title="4. 再回到原始的问题"></a>4. 再回到原始的问题</h3><pre><code>使用 jq 来实现, 应该怎么写
$( &apos;div, p&apos; ).each( ... )

在 jq 中有两组遍历方法, 一个是静态的 each 和 map, 例如
    $.map( arr, callback )
    $.each( arr, callback )
静态的方法遍历的是传入的对象或数组
除此之外 jq 还提供了一组实例方法
    $( ... ).each( function () { ... } )
    $( ... ).map( function () { ... } )
实例方法中遍历当前 jq 对象.

    $( &apos;div&apos; ) 

jq 的本质就是 伪数组
利用 jq 判断页面中某一个元素是否存在: $( &apos;...&apos; ).length &gt; 0
</code></pre><h3 id="5-框架的核心结构"><a href="#5-框架的核心结构" class="headerlink" title="5. 框架的核心结构"></a>5. 框架的核心结构</h3><pre><code>需求:
1&gt; 有一个函数, 可以实现元素的获取功能( select -&gt; Array )
2&gt; 这个函数返回的对象具有 each 方法. 该方法只有一个 回调函数的参数, 用于遍历每一个对象.

先把函数写出来
function I( selector ) {

} 
该函数可以获取元素
function I( selector ) {
    var list = document.querySelectorAll( selector ); // 伪数组
}
返回的数据应该就是这个 list, 但是又需要有 each 
所以可以考虑直接让 list 带有 each 方法
function I( selector ) {
    var list = document.querySelectorAll( selector ); // 伪数组
    list.each = function ( callback ) {
        // 调用 该方法就是在 遍历 list 并将每一个元素用 callback 进行处理
        each( this, callback );
    }
    return list
}
</code></pre><h3 id="6-引入构造函数-init"><a href="#6-引入构造函数-init" class="headerlink" title="6. 引入构造函数( init )"></a>6. 引入构造函数( init )</h3><pre><code>知道 list 是一个有 qsa 方法返回的对象, 每次提供 each 方法不合理, 而且 jq 有很多方法
所以借助 oop 的知识应该使用 继承. 利用构造函数来创建 &quot;list 对象&quot;, 但是继承自提供 
each 等方法的原型对象.

function F( selector ) {
    // 给 this 加 伪数组项
}
F.prototype.each = function () {

} 


考虑到 list 中每次都添加方法不合理, 而且冗余, 因此使用构造函数创建对象( 伪数组 ).
让构造函数.prototype 提供各种方法, 那么实例对象( 伪数组 )就可以使用这些方法了.

function F( selector ) {
    // 给 this 加 伪数组项
    var list = document.querySelectorAll( selector );
    for( var i = 0; i &lt; list.length; i++ ) {
        this[ i ] = list[ i ];
    }
    this.length = list.length;
}
F.prototype.each = function ( callback ) {
    each( this, callback );
};

升级一下
function F( selector ) {
    // 给 this 加 伪数组项
    [].push.apply( this, document.querySelectorAll( selector ) );
}
F.prototype.each = function ( callback ) {
    each( this, callback );
};

如何使用呢?
new F( &apos;div, p&apos; ).each( ... )
</code></pre><h3 id="7-隐藏-new-关键字"><a href="#7-隐藏-new-关键字" class="headerlink" title="7. 隐藏 new 关键字"></a>7. 隐藏 new 关键字</h3><pre><code>考虑引入函数
function iQuery( selector ) {
    return new F( selector );
}
var I = iQuery;

引入沙箱
从沙箱中如果要暴露一些函数或对象采用方法有三种( 常用 )
1&gt; 利用 window 参数
    (function ( window ) {

        window.xxx = vvv;
    })( window );
2&gt; 利用 返回值( 例如 Sizzle )
    var Sizzle =
    (function () {

        return xxx;
    })();
3&gt; 利用 this 映射
    (function () {
        this.xxx = vvv;
    })();


缺点:
1&gt; 代码结构凌乱. 优化结构.
2&gt; 无法实现扩展, 只有在该文件中实现代码结构.
</code></pre><h3 id="8-可扩展性"><a href="#8-可扩展性" class="headerlink" title="8. 可扩展性"></a>8. 可扩展性</h3><pre><code>1&gt; 可以将 iQuery 的一个属性指向构造函数
    var iQuery = function ( selector ) {
        return new F( selector );
    }; 

    ...
    iQuery.F = F;
    ...

    此时对外的扩展
    iQuery.F.prototype.xxx = vvv;

2&gt; 在 jq 中采用是原型映射的办法, jq 中将 对外公开的 jquery 函数 与 构造函数 的原型用一个对象表示
    // 类比
    F.prototype = {};
    iQuery.prototype = F.prototype;

    //===============================================================

    var jQuery = function ( selector ) {
        return ...( selector );
    };

    jQuery.prototype = {
        // 对象
        constructor: jQuery,
        each: function () ....
    };  

    var init = function ( selector ) {
        // ... 构造函数 ...
        // [].push.apply( this, document.querySelectorAll( selector ) );
    };

    init.prototype = jQuery.prototype;

    //===============================================================

    // 在 jq 中又 进一步处理
    // 将 init 函数作为 jquery 的原型的一个方法
    // 将所有的方法挂载到 jQuery 上, 便于优化与更新

    // jquery 1.7 以后的写法
    var jQuery = function ( selector ) {
        return new jQuery.fn.init( selector );
    };

    jQuery.fn = jQuery.prototype = {
        // 对象
        constructor: jQuery
    };  

    var init = jQuery.fn.init = function ( selector ) {
        // ...
    };

    init.prototype = jQuery.fn;


    等价的写法

    // jquery 1.7 以前的写法
    var jQuery = function ( selector ) {
        return new jQuery.fn.init( selector );
    };

    jQuery.fn = jQuery.prototype = {
        // 对象
        constructor: jQuery,
        init: function ( selector ) {
            // ...
        }
    };  

    jQuery.fn.init.prototype = jQuery.fn;
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/15/oop3/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Shuai Li">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="帅博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="帅博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/15/oop3/" itemprop="url">
                  oop3
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-15T23:36:24+08:00">
                2017-02-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="闭包优化缓存解决递归实现的斐波那契数列存在的性能问题"><a href="#闭包优化缓存解决递归实现的斐波那契数列存在的性能问题" class="headerlink" title="闭包优化缓存解决递归实现的斐波那契数列存在的性能问题"></a>闭包优化缓存解决递归实现的斐波那契数列存在的性能问题</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">createFib</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> arr = [];</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fib</span>(<span class="params">n</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> num = arr[n];</div><div class="line">        <span class="keyword">if</span>(!num)&#123;</div><div class="line">            <span class="keyword">if</span>(n &lt;= <span class="number">2</span>)&#123;</div><div class="line">                num = <span class="number">1</span>;</div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                num = fib(n - <span class="number">1</span>) + fib(n <span class="number">-2</span>);</div><div class="line">            &#125;</div><div class="line">            arr[n] = num;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> num;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="jQuery缓存实现"><a href="#jQuery缓存实现" class="headerlink" title="jQuery缓存实现"></a>jQuery缓存实现</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">createCache</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> cache = &#123;&#125;;</div><div class="line">    <span class="keyword">var</span> keys = [];</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">key, value</span>)</span>&#123;</div><div class="line">        <span class="keyword">if</span>(value != <span class="literal">undefined</span>)&#123;</div><div class="line">            cache[key] = value;</div><div class="line">            <span class="keyword">if</span>(keys.push(key) &gt; <span class="number">20</span>)&#123;</div><div class="line">                <span class="keyword">delete</span> cache[keys.shift()];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> cache[key];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="jQuery缓存源码分析"><a href="#jQuery缓存源码分析" class="headerlink" title="jQuery缓存源码分析"></a>jQuery缓存源码分析</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">createCache</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> keys = [];</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">cache</span>(<span class="params">key, value</span>)</span>&#123;</div><div class="line">        <span class="keyword">if</span>(keys.push(key + <span class="string">" "</span>) &gt; <span class="number">20</span>)&#123;</div><div class="line">            <span class="keyword">delete</span> cache[keys.shift()];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> (cache[key + <span class="string">" "</span>] = value);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> cache;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="沙箱模式"><a href="#沙箱模式" class="headerlink" title="沙箱模式"></a>沙箱模式</h2><p>一个封闭的隔离的环境！</p>
<p>在JS中通过函数来创建沙箱</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">window</span>)</span>&#123;</div><div class="line">    <span class="comment">//变量的声明</span></div><div class="line"></div><div class="line">    <span class="comment">//主要的功能代码</span></div><div class="line"></div><div class="line">    <span class="comment">//如果需要，就通过window对象向外界暴露接口</span></div><div class="line"></div><div class="line">&#125;)(<span class="built_in">window</span>)</div></pre></td></tr></table></figure>
<h3 id="将window对象作为参数的目的"><a href="#将window对象作为参数的目的" class="headerlink" title="将window对象作为参数的目的"></a>将window对象作为参数的目的</h3><ol>
<li>便于代码压缩</li>
<li>实现逻辑上的隔离，外部不访问里面的东西，里面也不访问外面的东西</li>
</ol>
<h3 id="沙箱的应用"><a href="#沙箱的应用" class="headerlink" title="沙箱的应用"></a>沙箱的应用</h3><ol>
<li>框架</li>
<li>组件</li>
<li>插件</li>
</ol>
<h2 id="函数的调用模式"><a href="#函数的调用模式" class="headerlink" title="函数的调用模式"></a>函数的调用模式</h2><h3 id="函数调用模式"><a href="#函数调用模式" class="headerlink" title="函数调用模式"></a>函数调用模式</h3><p>函数名();<br>this —&gt; window</p>
<h3 id="方法调用模式"><a href="#方法调用模式" class="headerlink" title="方法调用模式"></a>方法调用模式</h3><p>对象.方法名();<br>this —&gt; 调用该方法的对象</p>
<h3 id="构造函数调用模式"><a href="#构造函数调用模式" class="headerlink" title="构造函数调用模式"></a>构造函数调用模式</h3><p>new 函数名();<br>this —&gt; new创建出来的实例</p>
<h3 id="上下文调用模式"><a href="#上下文调用模式" class="headerlink" title="上下文调用模式"></a>上下文调用模式</h3><h2 id="两种创建对象的方式"><a href="#两种创建对象的方式" class="headerlink" title="两种创建对象的方式"></a>两种创建对象的方式</h2><h3 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">createObj</span>(<span class="params">name, age</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">    obj.name = name;</div><div class="line">    obj.age = age;</div><div class="line">    <span class="keyword">return</span> obj;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> p = createObj(<span class="string">"郑天羊"</span>, <span class="number">18</span>);</div></pre></td></tr></table></figure>
<h3 id="寄生模式"><a href="#寄生模式" class="headerlink" title="寄生模式"></a>寄生模式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">    obj.name = name;</div><div class="line">    obj.age = age;</div><div class="line">    <span class="keyword">return</span> obj;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person(<span class="string">"郑天羊"</span>, <span class="number">18</span>);</div></pre></td></tr></table></figure>
<p>工厂模式和寄生模式都可以用来创建对象，但是调用模式不一样，工厂模式是函数调用模式，寄生模式是构造函数调用模式！</p>
<h2 id="上下文调用模式-1"><a href="#上下文调用模式-1" class="headerlink" title="上下文调用模式"></a>上下文调用模式</h2><h3 id="call"><a href="#call" class="headerlink" title="call"></a>call</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">函数名.call(obj, arg1...argN);</div><div class="line"><span class="comment">//功能：</span></div><div class="line">    <span class="comment">//1. 调用函数</span></div><div class="line">    <span class="comment">//2. 改变this指向为第一个参数中的对象</span></div><div class="line">    <span class="comment">//3. 将第二个及以后的所有参数，依次的传递给函数作为实参</span></div></pre></td></tr></table></figure>
<h3 id="apply"><a href="#apply" class="headerlink" title="apply"></a>apply</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">函数名.apply(obj, 数组or伪数组);</div><div class="line"><span class="comment">//功能：</span></div><div class="line">    <span class="comment">//1. 调用函数</span></div><div class="line">    <span class="comment">//2. 改变this指向为第一个参数中的对象</span></div><div class="line">    <span class="comment">//3. 将第二个参数的数组或者伪数组，中的元素一一拆解，依次传递给函数作为实参</span></div></pre></td></tr></table></figure>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ol>
<li>如果call和apply的第一个参数为null或者undefined,this将会指向window</li>
<li>如果call和apply的第一个参数为值类型的数据，会将值类型的数据转换成其对应的引用类型的数据，this指向该引用类型的数据</li>
</ol>
<p>tips: 一般情况下apply的传参特性会被使用的居多（转换伪数组为真数组，求最大值）</p>
<h2 id="forEach和map的使用"><a href="#forEach和map的使用" class="headerlink" title="forEach和map的使用"></a>forEach和map的使用</h2><p>都可以用来遍历数组</p>
<h3 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">数组.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">value, index, arr</span>)</span>&#123;&#125;)</div><div class="line"><span class="comment">//value：正在遍历的数组元素</span></div><div class="line"><span class="comment">//index: 正在遍历的数组元素的索引</span></div><div class="line"><span class="comment">//arr: 正在遍历的数组</span></div></pre></td></tr></table></figure>
<h3 id="map"><a href="#map" class="headerlink" title="map"></a>map</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">数组.map(<span class="function"><span class="keyword">function</span>(<span class="params">value, index, arr</span>)</span>&#123;&#125;)</div><div class="line"><span class="comment">//value：正在遍历的数组元素</span></div><div class="line"><span class="comment">//index: 正在遍历的数组元素的索引</span></div><div class="line"><span class="comment">//arr: 正在遍历的数组</span></div></pre></td></tr></table></figure>
<p>map是有返回值的，他的返回值是，将每次调用回调函数之后的返回值拼接成一个新的数组，将这个数组返回，作为map的返回值！</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/15/oop2/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Shuai Li">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="帅博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="帅博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/15/oop2/" itemprop="url">
                  oop2
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-15T23:34:36+08:00">
                2017-02-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="什么是递归"><a href="#什么是递归" class="headerlink" title="什么是递归"></a>什么是递归</h3><p>在函数直接或者间接的调用自己，就是递归</p>
<h3 id="递归的两个要素"><a href="#递归的两个要素" class="headerlink" title="递归的两个要素"></a>递归的两个要素</h3><ol>
<li>自己调自己</li>
<li>结束条件</li>
</ol>
<h3 id="化归思想"><a href="#化归思想" class="headerlink" title="化归思想"></a>化归思想</h3><p>化繁为简，化难为易的过程， 转化 归结 的简称</p>
<h3 id="前n项和"><a href="#前n项和" class="headerlink" title="前n项和"></a>前n项和</h3><h3 id="n的m次方"><a href="#n的m次方" class="headerlink" title="n的m次方"></a>n的m次方</h3><h3 id="斐波那契数列"><a href="#斐波那契数列" class="headerlink" title="斐波那契数列"></a>斐波那契数列</h3><h3 id="递归获取后代元素（重点！！）"><a href="#递归获取后代元素（重点！！）" class="headerlink" title="递归获取后代元素（重点！！）"></a>递归获取后代元素（重点！！）</h3><h2 id="词法作用域"><a href="#词法作用域" class="headerlink" title="词法作用域"></a>词法作用域</h2><p>作用域就是变量起作用的范围</p>
<p>在代码写好的时候，根据代码的书写结构，就可以确定变量的作用域，这种作用域就是词法作用域</p>
<p>词法作用域又叫静态作用域</p>
<p>js中没有块级作用域（代码块限定的作用域叫做块级作用域）</p>
<h2 id="变量提升-hoisting"><a href="#变量提升-hoisting" class="headerlink" title="变量提升(hoisting)"></a>变量提升(hoisting)</h2><p>JS代码执行分两个阶段：1.预解析阶段  2.执行阶段</p>
<p>在预解析阶段，会对代码中所有的变量声明以及函数声明做提升操作，提升到其所在的作用域的最顶上！</p>
<h3 id="特殊情况"><a href="#特殊情况" class="headerlink" title="特殊情况"></a>特殊情况</h3><ol>
<li>函数同名的时候，会全部提升，但是后面的会覆盖掉前面的</li>
<li>函数和变量同名的情况，只会提升函数，忽略掉变量的声明</li>
<li>变量提升是分作用域的</li>
<li>变量提升是分段（script标签）的</li>
<li>条件式函数声明（在条件语句中的函数声明），会将条件式函数声明视为函数表达式做处理，只会提升函数名，函数体不提升</li>
<li>函数中形参赋值的过程是 在变量提升之前！</li>
</ol>
<p>函数中的形参，就相当于是在函数中声明一个局部的变量</p>
<h2 id="作用域链"><a href="#作用域链" class="headerlink" title="作用域链"></a>作用域链</h2><p>函数可以创建作用域，函数中又可以声明函数，这样就形成了作用域套作用域的链式结构，称作作用域链</p>
<h3 id="变量搜索原则"><a href="#变量搜索原则" class="headerlink" title="变量搜索原则"></a>变量搜索原则</h3><ol>
<li>现在使用变量的作用域中进行查找，如果找到了，就直接使用</li>
<li>如果没有找到，就去上一级作用域链中进行查找，如果找到了，就直接使用</li>
<li>如果没有找到，就沿着作用域链依次向上查找，直到找到全局作用域</li>
</ol>
<h3 id="绘制作用域链图"><a href="#绘制作用域链图" class="headerlink" title="绘制作用域链图"></a>绘制作用域链图</h3><ol>
<li>首先绘制0级作用域链</li>
<li>在全局作用域中查找变量以及函数的声明，用小方块的形式将其画在0级作用域线上</li>
<li>再从0级作用域链中的函数中引出下一级作用域链</li>
<li>重复以上步骤！！！</li>
</ol>
<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><h3 id="什么是闭包"><a href="#什么是闭包" class="headerlink" title="什么是闭包"></a>什么是闭包</h3><p>闭包就是指可以访问独立的数据的函数！！！</p>
<h3 id="闭包要解决的问题"><a href="#闭包要解决的问题" class="headerlink" title="闭包要解决的问题"></a>闭包要解决的问题</h3><p>函数内部声明的变量无法再函数外部使用</p>
<h3 id="闭包的基本模型"><a href="#闭包的基本模型" class="headerlink" title="闭包的基本模型"></a>闭包的基本模型</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">outer</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> data = <span class="string">""</span>;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">inner</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> data;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> inner;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="如何使用闭包返回多个函数"><a href="#如何使用闭包返回多个函数" class="headerlink" title="如何使用闭包返回多个函数"></a>如何使用闭包返回多个函数</h3><p>在函数内部创建一个对象，在对象中封装多个函数，返回对象，在外部就可以使用对象，访问各个方法</p>
<h3 id="闭包的原理"><a href="#闭包的原理" class="headerlink" title="闭包的原理"></a>闭包的原理</h3><p>上级作用域无法访问下级作用域中的变量，但是下级作用域可以访问上级作用域的变量</p>
<h3 id="闭包的用途"><a href="#闭包的用途" class="headerlink" title="闭包的用途"></a>闭包的用途</h3><ol>
<li>可以用来保护数据， 就是变量被保护在外部函数中，想要修改变量只能通过闭包函数，可以在闭包函数中添加一些校验逻辑，以保证数据的合理性以及安全性</li>
<li>可以为函数新增私有的变量</li>
</ol>
<h3 id="使用闭包解决for循环中注册点击事件的问题"><a href="#使用闭包解决for循环中注册点击事件的问题" class="headerlink" title="使用闭包解决for循环中注册点击事件的问题"></a>使用闭包解决for循环中注册点击事件的问题</h3><h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><p>点击事件在触发的时候，访问的i变量已经变成了最后一个值！！</p>
<h4 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h4><p>通过闭包来创建一个函数，该函数拥有自己独立的一个变量j，在循环的时候，将当前的i的值保存一份交给j，再将该闭包函数注册给点击事件，这样在点击事件触发的时候，就不会去访问全局的i，而是使用自己的j</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/15/oop/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Shuai Li">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="帅博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="帅博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/15/oop/" itemprop="url">
                  oop
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-15T23:30:51+08:00">
                2017-02-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="面向对象的三大特性"><a href="#面向对象的三大特性" class="headerlink" title="面向对象的三大特性"></a>面向对象的三大特性</h2><h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><pre><code>将属性和方法，封装起来，在对象内部实现某些功能，对外界之暴露接口，外界在适用对象的时候，只需要关心接口的使用，而不需要关心对象内部功能的具体实现
</code></pre><h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><pre><code>自己没有的东西，别人有，拿过来使用，就是继承。（拿来主义）
</code></pre><h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><pre><code>父类指针指向子类对象（JS中不支持多态）
</code></pre><h2 id="创建对象的三种方式"><a href="#创建对象的三种方式" class="headerlink" title="创建对象的三种方式"></a>创建对象的三种方式</h2><h3 id="字面量方式"><a href="#字面量方式" class="headerlink" title="字面量方式"></a>字面量方式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">    <span class="attr">name</span>:<span class="string">""</span>,</div><div class="line">    <span class="attr">age</span>:<span class="number">18</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>缺陷:复用性差!!</p>
<h3 id="内置构造函数"><a href="#内置构造函数" class="headerlink" title="内置构造函数"></a>内置构造函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">obj.name = <span class="string">""</span>;</div><div class="line">obj.age = <span class="number">18</span>;</div></pre></td></tr></table></figure>
<p>缺陷:复用性差!!</p>
<h3 id="自定义构造函数"><a href="#自定义构造函数" class="headerlink" title="自定义构造函数"></a>自定义构造函数</h3><h2 id="自定义构造函数-1"><a href="#自定义构造函数-1" class="headerlink" title="自定义构造函数"></a>自定义构造函数</h2><h3 id="构造函数的概念"><a href="#构造函数的概念" class="headerlink" title="构造函数的概念"></a>构造函数的概念</h3><pre><code>构造函数也是函数，他是用来初始化对象的！
</code></pre><h3 id="构造函数的特点"><a href="#构造函数的特点" class="headerlink" title="构造函数的特点"></a>构造函数的特点</h3><pre><code>* 首字母大写
* 一般和new关键字一起使用
* 不需要手动写返回值
</code></pre><h3 id="构造函数的执行过程"><a href="#构造函数的执行过程" class="headerlink" title="构造函数的执行过程"></a>构造函数的执行过程</h3><pre><code>1. 使用new关键字创建对象
2. 调用构造函数
3. 将构造函数内部的this指向new创建出来的对象
4. 在构造函数内部使用this为对象新增成员
5. 返回该对象
</code></pre><h3 id="构造函数的使用注意事项"><a href="#构造函数的使用注意事项" class="headerlink" title="构造函数的使用注意事项"></a>构造函数的使用注意事项</h3><pre><code>* 返回值：不需要手动写返回值，如果写了
    * 如果是值类型的，将不会对返回值有任何的影响
    * 如果是引用类型的，则会将默认返回值进行替换
* 如果把构造函数当做普通函数调用，this会指向window，返回值如果不写，会是undefined
</code></pre><h2 id="原型"><a href="#原型" class="headerlink" title="原型"></a>原型</h2><h3 id="原型是什么？"><a href="#原型是什么？" class="headerlink" title="原型是什么？"></a>原型是什么？</h3><pre><code>构造函数在创建出来的时候，系统会默认的帮构造函数创建并且关联一个空的对象，这个对象就是原型
</code></pre><h3 id="原型的作用？"><a href="#原型的作用？" class="headerlink" title="原型的作用？"></a>原型的作用？</h3><pre><code>原型中的成员可以被和其关联的构造函数所创建出来的所有的对象共享！
</code></pre><h3 id="原型的访问方式"><a href="#原型的访问方式" class="headerlink" title="原型的访问方式"></a>原型的访问方式</h3><ul>
<li>构造函数.prototype</li>
<li>对象.<strong>proto</strong>  (不推荐使用，因为非标准，有兼容性问题)</li>
</ul>
<h3 id="原型的使用"><a href="#原型的使用" class="headerlink" title="原型的使用"></a>原型的使用</h3><ul>
<li>利用对象的动态特性，为原型对象新增成员</li>
<li>直接替换原型对象</li>
</ul>
<h3 id="原型的使用注意事项"><a href="#原型的使用注意事项" class="headerlink" title="原型的使用注意事项"></a>原型的使用注意事项</h3><ol>
<li>一般情况下将方法放在原型中，将属性放在对象中</li>
<li>当访问对象的属性的时候，会先在对象自身中查找，如果没有会去原型中查找</li>
<li>当替换原型对象的时候，替换之前所创建的对象和替换之后创建的对象的原型不一致！</li>
<li>对象的原型就是创建对象那一刻构造函数所关联的那个原型</li>
<li>设置对象的属性的时候，不会去原型中进行查找，只会在自身设置</li>
</ol>
<h3 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a>constructor</h3><p>原型中的一个属性，指向和原型相关的构造函数！</p>
<p>在替换原型对象的时候，这个constructor属性就不准确，所以会手动进行补充</p>
<h2 id="继承的实现方式"><a href="#继承的实现方式" class="headerlink" title="继承的实现方式"></a>继承的实现方式</h2><h3 id="混入式继承（mix-in）"><a href="#混入式继承（mix-in）" class="headerlink" title="混入式继承（mix-in）"></a>混入式继承（mix-in）</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;&#125;;</div><div class="line"><span class="keyword">var</span> obj1 = &#123;<span class="attr">key</span>: value, <span class="attr">key1</span>:value1&#125;;</div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> k <span class="keyword">in</span> obj1)&#123;</div><div class="line">    obj[k] = obj1[k];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="原型继承"><a href="#原型继承" class="headerlink" title="原型继承"></a>原型继承</h3><ul>
<li><p>利用混入的方式为原型对象添加成员</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> obj1 = &#123;<span class="attr">key</span>: value, <span class="attr">key1</span>:value1&#125;;</div><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> k <span class="keyword">in</span> obj1)&#123;</div><div class="line">    Person.prototype[k] = obj1[k];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person();</div></pre></td></tr></table></figure>
</li>
<li><p>直接替换原型对象</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> obj1 = &#123;<span class="attr">key</span>: value, <span class="attr">key1</span>:value1&#125;;</div><div class="line"></div><div class="line">Person.prototype = obj1;</div><div class="line"></div><div class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person();</div></pre></td></tr></table></figure>
<h3 id="经典继承"><a href="#经典继承" class="headerlink" title="经典继承"></a>经典继承</h3><p>经典继承的根本，其实还是原型继承！<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = <span class="built_in">Object</span>.create(obj1);</div><div class="line"><span class="comment">//创建一个对象obj，obj的原型是obj1</span></div></pre></td></tr></table></figure></p>
<p>经典继承的兼容性处理<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function myCreate(obj)&#123;</div><div class="line">    if(Object.create)&#123;</div><div class="line">        return Object.create(obj);</div><div class="line">    &#125;else&#123;</div><div class="line">        function F()&#123;&#125;</div><div class="line">        F.prototype = obj;</div><div class="line">        return new F();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h2><pre><code>在js中，对象都有原型，原型也是对象，所以原型也有原型，那么就形成了链式结构，称作原型链！
</code></pre><h3 id="属性搜索原则"><a href="#属性搜索原则" class="headerlink" title="属性搜索原则"></a>属性搜索原则</h3><ol>
<li>在对象访问成员的时候，会现在自身进行查找，如果找到了就直接使用</li>
<li>如果没有找到，就去对象的原型中进行查找，如果找到了就直接使用</li>
<li>如果没有找到，就沿着原型链，依次向上查找，直到null</li>
</ol>
<h2 id="Object-prototype的成员"><a href="#Object-prototype的成员" class="headerlink" title="Object.prototype的成员"></a>Object.prototype的成员</h2><table>
<thead>
<tr>
<th>名称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>constructor</code></td>
<td>指向和原型相关的构造函数</td>
</tr>
<tr>
<td><code>hasOwnProperty</code></td>
<td>判断对象本身是否拥有某个属性</td>
</tr>
<tr>
<td><code>isPrototypeOf</code></td>
<td>判断对象是不是另外一个对象的原型对象</td>
</tr>
<tr>
<td><code>propertyIsEnumerable</code></td>
<td>判断属性是否属于对象自身并且可以被遍历</td>
</tr>
<tr>
<td><code>toString</code></td>
<td>将对象转成字符串</td>
</tr>
<tr>
<td><code>toLocaleString</code></td>
<td>将对象转成本地格式的字符串</td>
</tr>
<tr>
<td><code>valueOf</code></td>
<td>当值类型和引用类型参与运算的时候，会调用引用类型的valueOf方法，如果返回值还不能参与运算就去调用toString方法</td>
</tr>
<tr>
<td><code>__proto__</code></td>
<td>指向对象的原型对象</td>
</tr>
</tbody>
</table>
<h2 id="instanceof关键字"><a href="#instanceof关键字" class="headerlink" title="instanceof关键字"></a>instanceof关键字</h2><pre><code>判断构造函数的原型是不是在对象的原型链上
</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">对象 <span class="keyword">instanceof</span> 构造函数</div></pre></td></tr></table></figure>
<h2 id="创建函数的三种方式"><a href="#创建函数的三种方式" class="headerlink" title="创建函数的三种方式"></a>创建函数的三种方式</h2><h3 id="函数声明"><a href="#函数声明" class="headerlink" title="函数声明"></a>函数声明</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> 函数名(<span class="params">参数列表</span>)</span>&#123;</div><div class="line">    <span class="comment">//函数体</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="函数表达式"><a href="#函数表达式" class="headerlink" title="函数表达式"></a>函数表达式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> 函数名 = <span class="function"><span class="keyword">function</span> (<span class="params">参数列表</span>)</span>&#123;</div><div class="line">    <span class="comment">//函数体</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> 函数名 = <span class="keyword">new</span> <span class="built_in">Function</span>();</div></pre></td></tr></table></figure>
<h2 id="Function的使用"><a href="#Function的使用" class="headerlink" title="Function的使用"></a>Function的使用</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> func = <span class="keyword">new</span> <span class="built_in">Function</span>();  <span class="comment">//创建空函数</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> func1 = <span class="keyword">new</span> <span class="built_in">Function</span>(methodBody);  <span class="comment">//创建有函数体的函数，methodBody是一个字符串</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> func2 = <span class="keyword">new</span> <span class="built_in">Function</span>(arg1, arg2...argN, methodBody)  <span class="comment">//创建一个以methodBody为函数体，之前所有的参数为形参名的函数， 所有的参数都是字符串！！</span></div></pre></td></tr></table></figure>
<h3 id="如何解决Function的函数体过长的问题？"><a href="#如何解决Function的函数体过长的问题？" class="headerlink" title="如何解决Function的函数体过长的问题？"></a>如何解决Function的函数体过长的问题？</h3><ol>
<li>字符串拼接</li>
<li>使用模板引擎</li>
<li>使用反引号</li>
</ol>
<h2 id="eval的使用"><a href="#eval的使用" class="headerlink" title="eval的使用"></a>eval的使用</h2><p>eval是个函数，可以将字符串转换成代码并立即执行！</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">eval</span>(符合js语法规范的字符串);</div></pre></td></tr></table></figure>
<h3 id="使用eval处理JSON格式数据的时候的问题"><a href="#使用eval处理JSON格式数据的时候的问题" class="headerlink" title="使用eval处理JSON格式数据的时候的问题"></a>使用eval处理JSON格式数据的时候的问题</h3><p>当使用eval处理JSON格式数据的时候，eval会将JSON格式字符串中的大括号{}，当做代码段来解析，所以会报错！</p>
<p>解决方案：</p>
<ol>
<li><p>将变量声明也同时放在eval中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> jsonStr = <span class="string">"&#123;key: value&#125;"</span>;</div><div class="line"></div><div class="line"><span class="built_in">eval</span>(<span class="string">"var obj="</span> + jsonStr);</div></pre></td></tr></table></figure>
</li>
<li><p>在json格式的字符串前后拼接小括号</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> jsonStr = <span class="string">"&#123;key: value&#125;"</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span> obj = <span class="built_in">eval</span>(<span class="string">"("</span> + jsonStr + <span class="string">")"</span>);</div></pre></td></tr></table></figure>
</li>
</ol>
<p>JSON2</p>
<h2 id="Function和eval的异同"><a href="#Function和eval的异同" class="headerlink" title="Function和eval的异同"></a>Function和eval的异同</h2><ol>
<li>都能将字符串转换成代码</li>
<li>Funciton创建出来的是函数，需要手动去调用，代码才会执行，而eval会直接将字符串转成代码并执行</li>
</ol>
<p>问题：</p>
<ol>
<li>执行效率的问题</li>
<li>安全性问题（XSS）</li>
</ol>
<h2 id="函数的原型链"><a href="#函数的原型链" class="headerlink" title="函数的原型链"></a>函数的原型链</h2><p>如果将函数当做一个对象对待的话，那么他也是由构造函数创建出来的，所以这个函数对象，也会有相应的原型链</p>
<p>js中所有的函数的构造函数都是Function, 包括Function本身</p>
<h2 id="完整的原型链绘制"><a href="#完整的原型链绘制" class="headerlink" title="完整的原型链绘制"></a>完整的原型链绘制</h2><h2 id="Object和Function的关系"><a href="#Object和Function的关系" class="headerlink" title="Object和Function的关系"></a>Object和Function的关系</h2><p>可以通过instanceof关键字来确定两者的关系， Object和Function互为实例！！</p>
<h2 id="arguments对象"><a href="#arguments对象" class="headerlink" title="arguments对象"></a>arguments对象</h2><p>arguments是函数内部的一个对象，他是一个伪数组<br>在函数调用的时候，会将函数的实参，依次的存入这个伪数组中。</p>
<p>arguments.length 属性，表示函数在调用的时候，传入的实参的个数<br>arguments.callee 属性，指的就是arguments对象所在的函数，一般用来在匿名函数中做递归</p>
<h2 id="函数对象的成员"><a href="#函数对象的成员" class="headerlink" title="函数对象的成员"></a>函数对象的成员</h2><ul>
<li>arguments</li>
<li>caller 函数的调用环境，如果是在全局，则为null，如果是在其他函数当中调用的，那么caller为所在的那个函数</li>
<li>length 函数的形参的个数</li>
<li>name  函数的名称  函数声明和函数表达式的函数名为正常的函数名，new Function创建出来的函数名为 anonymous</li>
</ul>
<h2 id="静态成员以及实例成员"><a href="#静态成员以及实例成员" class="headerlink" title="静态成员以及实例成员"></a>静态成员以及实例成员</h2><ul>
<li>静态成员： 通过构造函数访问的成员就是静态成员</li>
<li>实例成员： 通过实例去访问的成员就是实例成员</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/15/canvas3/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Shuai Li">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="帅博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="帅博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/15/canvas3/" itemprop="url">
                  canvas3
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-15T23:26:16+08:00">
                2017-02-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="绘制文本"><a href="#绘制文本" class="headerlink" title="绘制文本"></a>绘制文本</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">ctx.strokeText(text, x, y, maxWidth)</div><div class="line"><span class="comment">//text： 要绘制的文本</span></div><div class="line"><span class="comment">//x, y:  文本的绘制位置，这个点默认在文本的左下角的基线位置</span></div><div class="line"><span class="comment">//maxWidth： 限制文本的最大宽度  如果文本长度大于maxWidth 会被压扁</span></div><div class="line"></div><div class="line">ctx.fillText(text, x, y, maxWidth)</div><div class="line"><span class="comment">//text： 要绘制的文本</span></div><div class="line"><span class="comment">//x, y:  文本的绘制位置，这个点默认在文本的左下角的基线位置</span></div><div class="line"><span class="comment">//maxWidth： 限制文本的最大宽度  如果文本长度大于maxWidth 会被压扁</span></div><div class="line"></div><div class="line"><span class="comment">//都有自己独有的路径，之后的任何操作，不会对其产生影响</span></div><div class="line"></div><div class="line">ctx.measureText(text)</div><div class="line"><span class="comment">//返回一个对象，对象中包含一个width属性，表示文本在当前上下文字体下显示出来的宽度</span></div></pre></td></tr></table></figure>
<h2 id="绘制完整的饼图"><a href="#绘制完整的饼图" class="headerlink" title="绘制完整的饼图"></a>绘制完整的饼图</h2><ol>
<li>求所有数据的总和</li>
<li>根据每个数据在总和中所占的比例，求出角度</li>
<li>根据求出的所有角度，依次绘制每个扇形</li>
<li>绘制扇形之后，绘制出扇形的中线 （用到在圆上找点的公式）</li>
<li>绘制文本，在圆的左边的文本需要右对齐，圆的右边需要左对齐，</li>
<li>绘制文本下面的直线，在圆的左边的直线要向左画（x要减去文本的长度），圆的右边需要向右画（x要加上文本的长度）</li>
</ol>
<h2 id="绘制图片"><a href="#绘制图片" class="headerlink" title="绘制图片"></a>绘制图片</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//三参模式</span></div><div class="line">ctx.drawImage(img, x, y);</div><div class="line"><span class="comment">//img: 图片对象，可以是用new Image创建的对象，也可以是页面上的img标签，video标签，canvas标签</span></div><div class="line"><span class="comment">//x, y: 要将图片绘制到画布上位置，x,y为图片的左上角</span></div><div class="line"><span class="comment">//画出来的图片是原图大小</span></div><div class="line"></div><div class="line"><span class="comment">//五参模式</span></div><div class="line">ctx.drawImage(img, x, y, w, h)</div><div class="line"><span class="comment">//可以通过w, h 来设置要画的图片的大小，等比例的宽高要自行计算，无法自动实现等比例</span></div><div class="line"></div><div class="line"><span class="comment">//九参模式</span></div><div class="line">ctx.drawImage(img, x, y, w, h, x1, y1, w1, h1);</div><div class="line"><span class="comment">//x, y, w, h: 确定要绘制的内容在图片中的矩形区域</span></div><div class="line"><span class="comment">//x1, y1, w1, h1: 确定要将内容绘制到画布的哪一个矩形区域</span></div></pre></td></tr></table></figure>
<h2 id="绘制序列帧动画"><a href="#绘制序列帧动画" class="headerlink" title="绘制序列帧动画"></a>绘制序列帧动画</h2><h2 id="变换"><a href="#变换" class="headerlink" title="变换"></a>变换</h2><h3 id="平移"><a href="#平移" class="headerlink" title="平移"></a>平移</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ctx.translate(x, y)</div><div class="line"><span class="comment">//x, y: 将原点移动到x, y这个坐标</span></div></pre></td></tr></table></figure>
<h3 id="缩放"><a href="#缩放" class="headerlink" title="缩放"></a>缩放</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ctx.scale(x, y)</div><div class="line"><span class="comment">//x, y: 分别代表要将x，和y坐标缩放的比例  大于1 是放大，小于1是缩小，等于1 不变</span></div></pre></td></tr></table></figure>
<h3 id="旋转"><a href="#旋转" class="headerlink" title="旋转"></a>旋转</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ctx.rotate(弧度)</div><div class="line"><span class="comment">//将画布围绕原点旋转指定的弧度</span></div></pre></td></tr></table></figure>
<h3 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h3><p>save可以保存变换之前的画布状态，可以使用restore进行恢复</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/15/canvas2/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Shuai Li">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="帅博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="帅博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/15/canvas2/" itemprop="url">
                  canvas2
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-15T23:25:25+08:00">
                2017-02-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="save和restore"><a href="#save和restore" class="headerlink" title="save和restore"></a>save和restore</h2><h3 id="save-方法"><a href="#save-方法" class="headerlink" title="save 方法"></a>save 方法</h3><p>可以用来保存当前路径的状态，如果多次调用，不会替换已经保存的内容，而是都会存储起来！</p>
<h3 id="restore-方法"><a href="#restore-方法" class="headerlink" title="restore 方法"></a>restore 方法</h3><p>可以用来恢复最后一次使用save保存的状态，如果之前保存了多份状态，多次调用restore会依次取出来</p>
<h2 id="矩形相关的方法"><a href="#矩形相关的方法" class="headerlink" title="矩形相关的方法"></a>矩形相关的方法</h2><h3 id="rect"><a href="#rect" class="headerlink" title="rect"></a>rect</h3><p>画一个矩形的路径，并不会描边或者填充，需要手动的调用stroke或者fill</p>
<h3 id="strokeRect"><a href="#strokeRect" class="headerlink" title="strokeRect"></a>strokeRect</h3><p>画一个描边的矩形，他拥有自己单独的路径，之后的任何操作不会对其产生影响</p>
<h3 id="fillRect"><a href="#fillRect" class="headerlink" title="fillRect"></a>fillRect</h3><p>画一个填充的矩形，他拥有自己单独的路径，之后的任何操作不会对其产生影响</p>
<h3 id="clearRect"><a href="#clearRect" class="headerlink" title="clearRect"></a>clearRect</h3><p>清除一个矩形的区域！</p>
<h2 id="帧动画的实现"><a href="#帧动画的实现" class="headerlink" title="帧动画的实现"></a>帧动画的实现</h2><p>使用定时器，在每次进来的时候，先清空整个画布，重新绘制图形，绘制图形的时候，移动位置，就会动起来！</p>
<h2 id="弧的画法"><a href="#弧的画法" class="headerlink" title="弧的画法"></a>弧的画法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">ctx.arc(x, y, r, startAngle, endAngle, anticlockwise)</div><div class="line">//x, y 圆心的坐标</div><div class="line">//r 弧的半径</div><div class="line">//startAngle 起始的角度， 弧度制</div><div class="line">//endAngle 结束角度， 弧度制</div><div class="line">//anticlockwise  是否逆时针绘制， 但是找角度还是顺时针找</div></pre></td></tr></table></figure>
<h2 id="扇形的绘制"><a href="#扇形的绘制" class="headerlink" title="扇形的绘制"></a>扇形的绘制</h2><ol>
<li>先moveTo到圆心</li>
<li>直接画弧</li>
<li>closePath</li>
<li>stroke or fill</li>
</ol>
<h2 id="三等分圆的绘制"><a href="#三等分圆的绘制" class="headerlink" title="三等分圆的绘制"></a>三等分圆的绘制</h2><p>依次绘制每一个扇形，绘制下一个扇形的开始角度为当前的扇形的结束角度！</p>
<h2 id="动画绘制圆"><a href="#动画绘制圆" class="headerlink" title="动画绘制圆"></a>动画绘制圆</h2><p>在定时器中绘制等分的圆，每次进来绘制一部分，就能完成整个动画绘制圆的过程</p>
<h2 id="根据数据绘制饼图"><a href="#根据数据绘制饼图" class="headerlink" title="根据数据绘制饼图"></a>根据数据绘制饼图</h2><ol>
<li>计算数据的总和</li>
<li>根据当前数据在数据总和中所占的比例，求出当前数据在圆中所占的角度</li>
<li>根据算出来的角度，绘制每一个扇形！</li>
</ol>
<h2 id="圆角矩形"><a href="#圆角矩形" class="headerlink" title="圆角矩形"></a>圆角矩形</h2><p>先绘制四条线，四条线的四角，要留出绘制圆弧的距离，每个角都会少画一个半径的长度<br>再绘制四个弧，弧的角度根据所在的位置进行计算</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/15/canvas-des/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Shuai Li">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="帅博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="帅博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/15/canvas-des/" itemprop="url">
                  canvas-des
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-15T22:58:24+08:00">
                2017-02-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="canvas的基本介绍"><a href="#canvas的基本介绍" class="headerlink" title="canvas的基本介绍"></a>canvas的基本介绍</h2><p>canvas是html5中新增的一个画布标签。这个标签的默认宽高为300*150</p>
<ol>
<li>设置canvas标签的宽高需要使用表格的形式，width和height属性</li>
<li>设置canvas标签的宽高不建议使用css样式，因为会将画布拉伸</li>
<li>canvas标签中的内容，在支持canvas的浏览器中不会显示出来，而不支持的浏览器中，会将canvas处理为div，所以内容会显示出来</li>
<li>canvas比较通用，在所有支持canvas的浏览器中，canvas的表现（API）都是一致的，不存在兼容性问题</li>
<li>canvas只是用来展示图像的东西，画图需要使用画图工具（画图上下文）</li>
</ol>
<h2 id="canvas的基本使用"><a href="#canvas的基本使用" class="headerlink" title="canvas的基本使用"></a>canvas的基本使用</h2><ol>
<li>首先要有canvas标签</li>
<li>获取canvas标签对象</li>
<li>通过canvas对象获取绘图上下文  canvas.getContext(“2d”)  “webgl”  three.js</li>
<li>通过绘图上下文的moveTo方法设置绘图的起始点  ctx.moveTo(x, y)</li>
<li>通过绘图上下文的lineTo方法设置画线的终点   ctx.lineTo(x, y)</li>
<li>通过绘图上下文的stroke方法描线   ctx.stroke();</li>
</ol>
<h2 id="绘制连续的线段"><a href="#绘制连续的线段" class="headerlink" title="绘制连续的线段"></a>绘制连续的线段</h2><p>lineTo方法可以将当前这个点保存，做为下次lineTo的起始点</p>
<h2 id="绘制曲线（只作为了解）"><a href="#绘制曲线（只作为了解）" class="headerlink" title="绘制曲线（只作为了解）"></a>绘制曲线（只作为了解）</h2><p>找到x和y的关系，循环遍历所有的x，通过x计算y，画出每一条线段，就能组合出一个曲线</p>
<p>贝塞尔曲线</p>
<h2 id="closePath方法"><a href="#closePath方法" class="headerlink" title="closePath方法"></a>closePath方法</h2><p>closePath可以用来闭合路径，将最后一个lineTo的点和最后一个moveTo的点连接起来</p>
<h2 id="fill方法"><a href="#fill方法" class="headerlink" title="fill方法"></a>fill方法</h2><p>用来填充闭合的图形，如果图形没有闭合，会自动闭合</p>
<h2 id="非零环绕原则"><a href="#非零环绕原则" class="headerlink" title="非零环绕原则"></a>非零环绕原则</h2><p>在需要判断一个闭合的图形是不是会被填充的时候，从这个闭合的图形中拉出一条直线<br>判断经过直线的所有线段的方向，如果直线两边相反箭头的数量刚好相同，这个空间就不会被填充，反之则填充</p>
<h2 id="路径的概念"><a href="#路径的概念" class="headerlink" title="路径的概念"></a>路径的概念</h2><p>路径中包含当前绘图上下文的所有状态，线宽，线的描边样式，填充样式</p>
<p>一个路径中所有的状态都是一致的，想要更改状态，必须重新开辟路径</p>
<h3 id="beginPath方法"><a href="#beginPath方法" class="headerlink" title="beginPath方法"></a>beginPath方法</h3><p>beginPath方法用来开辟新的路径。</p>
<ol>
<li>在使用beginPath开辟新的路径之后，之前的路径状态会被保存，不会重置</li>
<li>在使用beginPath开辟新的路径之后，起始点会被清除，需要重新手动的moveTo设置起始点</li>
</ol>
<p>如果要使用新的状态，一定要使用beginPath，否则，会影响之前所有同一路径下的绘图</p>
<h2 id="线型相关的属性"><a href="#线型相关的属性" class="headerlink" title="线型相关的属性"></a>线型相关的属性</h2><table>
<thead>
<tr>
<th>名称</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>lineWidth</td>
<td>设置绘图的线条宽度</td>
</tr>
<tr>
<td>lineCap</td>
<td>设置线两端的样式，可选的值有 butt（默认） round(圆的) square（方的）</td>
</tr>
<tr>
<td>lineJoin</td>
<td>设置两条线相交的拐点的样式，可选的值有 miter(默认尖的) round 圆的 bevel平的</td>
</tr>
<tr>
<td>strokeStyle</td>
<td>设置线条的颜色（可以使用所有css支持的颜色格式）</td>
</tr>
<tr>
<td>fillStyle</td>
<td>设置填充的颜色（可以使用所有css支持的颜色格式）</td>
</tr>
<tr>
<td>setLineDash</td>
<td>方法，用来设置虚线中空白和实线的宽度，参数为一个数组,数组中的元素，会被循环依次应用到虚线中的每一段线（虚线和实线）上</td>
</tr>
<tr>
<td>getLineDash</td>
<td>方法，用来获取虚线的宽度设置，获取到值是一个数组，如果不是虚线，就是空数组，否则是这个虚线的宽度设置数组</td>
</tr>
<tr>
<td>lineDashOffset</td>
<td>属性，设置虚线的偏移量，如果是正的就向左偏移，如果是负的，就向右偏移</td>
</tr>
</tbody>
</table>
<h2 id="渐变色"><a href="#渐变色" class="headerlink" title="渐变色"></a>渐变色</h2><p>不直接划一整条线，而是用每一个像素拼起来一条直线，每一个像素线段的颜色根据所在位置去计算</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/15/git-use/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Shuai Li">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="帅博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="帅博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/15/git-use/" itemprop="url">
                  git-use
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-15T22:39:41+08:00">
                2017-02-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Git-简介"><a href="#Git-简介" class="headerlink" title="Git 简介"></a>Git 简介</h3><ul>
<li>是什么<ul>
<li>Git 也是一个版本控制管理软件</li>
</ul>
</li>
<li>有什么用，可以解决什么问题<ul>
<li>保存历史记录</li>
<li>多人协作</li>
</ul>
</li>
<li>有了 SVN，为啥要学 Git<ul>
<li>Git 火</li>
<li>Git 相对于 SVN 来说，更强大，用户也非常多</li>
</ul>
</li>
<li>怎么用</li>
<li>Git 的诞生<ul>
<li><a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/00137402760310626208b4f695940a49e5348b689d095fc000" target="_blank" rel="external">http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/00137402760310626208b4f695940a49e5348b689d095fc000</a></li>
</ul>
</li>
</ul>
<h2 id="Git-的使用基础"><a href="#Git-的使用基础" class="headerlink" title="Git 的使用基础"></a>Git 的使用基础</h2><h3 id="1安装和配置-Git-环境"><a href="#1安装和配置-Git-环境" class="headerlink" title="1安装和配置 Git 环境"></a>1安装和配置 Git 环境</h3><ul>
<li>下载地址：<a href="https://git-scm.com/" target="_blank" rel="external">https://git-scm.com/</a></li>
</ul>
<h3 id="2git-bash-常用命令"><a href="#2git-bash-常用命令" class="headerlink" title="2git-bash 常用命令"></a>2git-bash 常用命令</h3><ul>
<li>pwd</li>
<li>ls<ul>
<li>ls -a</li>
</ul>
</li>
<li>cd</li>
<li>mkdir</li>
<li>clear</li>
<li>rmdir<ul>
<li>只能删除空目录</li>
</ul>
</li>
<li>rm<ul>
<li>rm 文件名</li>
<li>rm -rf 目录名<ul>
<li>注：很强大，可以删除非空目录，以及一些比较顽固的文件或者目录</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3初始化配置"><a href="#3初始化配置" class="headerlink" title="3初始化配置"></a>3初始化配置</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 设置用户名</span></div><div class="line">git config --global user.name <span class="string">"你的名字"</span></div><div class="line"><span class="comment"># 配置用户邮箱</span></div><div class="line">git config --global user.email <span class="string">"你的常用邮箱"</span></div><div class="line"><span class="comment"># 设置 gitk 图形查看工具中文显示默认编码（防止乱码）</span></div><div class="line">git config --global gui.encoding utf-8</div><div class="line"><span class="comment"># 查看配置列表项</span></div><div class="line">git config --list</div></pre></td></tr></table></figure>
<h3 id="4基本使用"><a href="#4基本使用" class="headerlink" title="4基本使用"></a>4基本使用</h3><ul>
<li><code>git init</code><ul>
<li>初始化一个 Git 仓库</li>
</ul>
</li>
<li><code>git status</code><ul>
<li>查看当前工作区、暂存区、本地仓库的状态</li>
</ul>
</li>
<li><code>git add</code></li>
<li><code>git commit</code><ul>
<li>示例：<code>git commit -m &quot;日志说明&quot; --author=&quot;操作者姓名 &lt;邮箱&gt;&quot;</code></li>
<li>执行 <code>git commit</code> 的时候，Git 会要求具有用户名和邮箱的参数选项</li>
<li>可以通过 <code>git config</code> 命令配置一下用户名和邮箱</li>
</ul>
</li>
<li><code>git log</code></li>
<li><code>gitk</code></li>
</ul>
<p>总结：操作 Git 的基本工作流程就是先修改文件，然后执行 <code>git add</code> 命令。<br><code>git add</code> 命令会把文件加入到暂存区，接着就可以执行 <code>git commit</code> 命令，将文件存入文档库，<br>从而形成一次历史记录。</p>
<ul>
<li>问题1：关于 Git-bash 中文问题</li>
<li><a href="https://github.com/msysgit/msysgit/wiki/Git-for-Windows-Unicode-Support" target="_blank" rel="external">Git for Windows Unicode Support</a></li>
<li>问题2：执行 commit 的时候一大堆的信息</li>
<li>问题3：配置 user.name 和 user.email 问题</li>
</ul>
<h3 id="工作区、暂存区、本地仓库"><a href="#工作区、暂存区、本地仓库" class="headerlink" title="工作区、暂存区、本地仓库"></a>工作区、暂存区、本地仓库</h3><h3 id="5版本回退"><a href="#5版本回退" class="headerlink" title="5版本回退"></a>5版本回退</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># git rm --cached &lt;file&gt;</span></div><div class="line"><span class="comment"># 恢复暂存区的指定文件到工作区</span></div><div class="line">$ git checkout [file]</div><div class="line"></div><div class="line"><span class="comment"># 恢复某个commit的指定文件到暂存区和工作区</span></div><div class="line">$ git checkout [commit] [file]</div><div class="line"></div><div class="line"><span class="comment"># 恢复暂存区的所有文件到工作区</span></div><div class="line">$ git checkout .</div><div class="line"></div><div class="line"><span class="comment"># 重置暂存区的指定文件，与上一次commit保持一致，但工作区不变</span></div><div class="line">$ git reset [file]</div><div class="line"></div><div class="line"><span class="comment"># 重置暂存区与工作区，与上一次commit保持一致</span></div><div class="line">$ git reset --hard</div><div class="line"></div><div class="line"><span class="comment"># 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变</span></div><div class="line">$ git reset [commit]</div><div class="line"></div><div class="line"><span class="comment"># 重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致</span></div><div class="line">$ git reset --hard [commit]</div><div class="line"></div><div class="line"><span class="comment"># 重置当前HEAD为指定commit，但保持暂存区和工作区不变</span></div><div class="line">$ git reset --keep [commit]</div><div class="line"></div><div class="line"><span class="comment"># 新建一个commit，用来撤销指定commit</span></div><div class="line"><span class="comment"># 后者的所有变化都将被前者抵消，并且应用到当前分支</span></div><div class="line">$ git revert [commit]</div><div class="line"></div><div class="line"><span class="comment"># 暂时将未提交的变化移除，稍后再移入</span></div><div class="line">$ git stash</div><div class="line">$ git stash pop</div></pre></td></tr></table></figure>
<h3 id="6远程同步"><a href="#6远程同步" class="headerlink" title="6远程同步"></a>6远程同步</h3><ul>
<li>remote</li>
<li>push</li>
<li>pull</li>
</ul>
<h3 id="在线仓库托管服务"><a href="#在线仓库托管服务" class="headerlink" title="在线仓库托管服务"></a>在线仓库托管服务</h3><ul>
<li>github</li>
<li>码云</li>
<li>coding</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/10/nodejs/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Shuai Li">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="帅博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="帅博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/10/nodejs/" itemprop="url">
                  nodejs
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-10T18:50:04+08:00">
                2017-02-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-快速上手"><a href="#1-快速上手" class="headerlink" title="1. 快速上手"></a>1. 快速上手</h2><h3 id="1-1-环境安装"><a href="#1-1-环境安装" class="headerlink" title="1.1 环境安装"></a>1.1 环境安装</h3><ul>
<li><a href="https://nodejs.org/en/download/" target="_blank" rel="external">https://nodejs.org/en/download/</a></li>
</ul>
<h3 id="1-2-Hello-World"><a href="#1-2-Hello-World" class="headerlink" title="1.2 Hello World"></a>1.2 Hello World</h3><ul>
<li>当你在控制台输入：<code>node 01-hello-world.js</code> 之后</li>
<li>实际上通过你安装目录下的那个 <code>node.exe</code> 可执行程序读取了 <code>01-hello-world.js</code> 文件中的源代码</li>
<li>然后解析和执行文件中的代码</li>
<li>最后将结果打印输出到了控制台中</li>
</ul>
<h3 id="1-3-path-环境变量"><a href="#1-3-path-环境变量" class="headerlink" title="1.3 path 环境变量"></a>1.3 path 环境变量</h3><ul>
<li>目的：就是为了在终端的任意目录中都可以找到该可执行文件</li>
<li>配置方式：<ul>
<li>一种在 path 中写路径，通过英文分号分隔</li>
<li>一种先定义变量，给一个变量值，然后在 path 中通过英文分号进行分隔，使用 <code>%变量名%</code> 引用该变量</li>
</ul>
</li>
</ul>
<h2 id="2Node-基础"><a href="#2Node-基础" class="headerlink" title="2Node 基础"></a>2Node 基础</h2><h3 id="2-1-Node-中的-JavaScript"><a href="#2-1-Node-中的-JavaScript" class="headerlink" title="2.1 Node 中的 JavaScript"></a>2.1 Node 中的 JavaScript</h3><ul>
<li><em>console</em></li>
<li><em>setInterval(callback, delay[, …args])</em></li>
<li><em>setTimeout(callback, delay[, …args])</em></li>
<li><em>clearInterval(intervalObject)</em></li>
<li><em>clearTimeout(timeoutObject)</em></li>
<li>clearImmediate(immediateObject)</li>
<li>setImmediate(callback[, …args])</li>
<li>__dirname</li>
<li>__filename</li>
<li>module</li>
<li>exports</li>
<li>global</li>
<li>process</li>
<li>require()</li>
</ul>
<h3 id="2-2-自定义模块（用户自己编写的模块）"><a href="#2-2-自定义模块（用户自己编写的模块）" class="headerlink" title="2.2 自定义模块（用户自己编写的模块）"></a>2.2 自定义模块（用户自己编写的模块）</h3><ul>
<li>require</li>
<li>module.exports</li>
<li>exports</li>
</ul>
<h3 id="2-3-模块（Node-提供）"><a href="#2-3-模块（Node-提供）" class="headerlink" title="2.3 模块（Node 提供）"></a>2.3 模块（Node 提供）</h3><h3 id="模块通信交互规则"><a href="#模块通信交互规则" class="headerlink" title="模块通信交互规则"></a>模块通信交互规则</h3><ul>
<li>一个 JavaScript 文件就是一个模块</li>
<li>模块天生就是一个私有的作用域，默认模块内定义的变量等成员只能被模块内部访问</li>
<li>每一个模块中都有一个 <code>module.exports</code> 编程接口对象，默认是一个空对象<ul>
<li>可以通过给 <code>module.exports</code> 编程接口对象添加成员向外暴露内部成员</li>
<li>例如：<code>var foo = &#39;bar&#39; module.exports.foo = foo</code></li>
<li>上面示例标识当前模块向外部暴露了一个接口对象，内部有一个 foo 成员，值是 bar</li>
</ul>
</li>
<li><code>require</code> 方法可以用来加载模块，该方法是同步加载执行的，主要做两件事儿<ul>
<li><ol>
<li>执行被加载模块中所有的代码</li>
</ol>
</li>
<li><ol>
<li>拿到被加载模块中的 <code>module.exports</code> 接口对象</li>
</ol>
</li>
</ul>
</li>
</ul>
<h3 id="核心模块"><a href="#核心模块" class="headerlink" title="核心模块"></a>核心模块</h3><p>核心模块就是 Node 提供的模块，例如 <code>fs</code>、<code>http</code>、<code>path</code>。。。，<br>这些模块其实也是文件模块，核心模块一般都是通过一个固定的标识名称进行加载的，<br>也就是说不能写错，固定的。用什么就加载什么，无论是程序执行效率还是可维护性都非常好。</p>
<h3 id="第三方模块"><a href="#第三方模块" class="headerlink" title="第三方模块"></a>第三方模块</h3><p>也就是npm社区提供的第三方包，用的时候，先下载，然后也是通过 <code>require</code> 进行加载，<br>加载第三方模块的时候，就是通过 <code>require(&#39;第三方模块标识名&#39;)</code>，所以第三方模块不可能有和<br>核心模块重名的名称。</p>
<p>第三方加载模块有自己的一套加载规则，node 会按照对应的加载机制去加载。<br>具体明天上午会给大家详细解析。</p>
<blockquote>
<p>在线文档地址：<a href="https://nodejs.org/dist/latest-v6.x/docs/api/" target="_blank" rel="external">https://nodejs.org/dist/latest-v6.x/docs/api/</a></p>
</blockquote>
<p>以下是常用的核心模块及作用：</p>
<table>
<thead>
<tr>
<th>核心模块名</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>fs</td>
<td>文件操作</td>
</tr>
<tr>
<td>http</td>
<td>网络操作</td>
</tr>
<tr>
<td>net</td>
<td>更底层的网络操作</td>
</tr>
<tr>
<td>os</td>
<td>操作系统相关</td>
</tr>
<tr>
<td>path</td>
<td>文件路径操作</td>
</tr>
<tr>
<td>querystring</td>
<td>查询字符串处理</td>
</tr>
<tr>
<td>url</td>
<td>url操作处理</td>
</tr>
</tbody>
</table>
<h3 id="2-4-第三方模块包与-Npm安装"><a href="#2-4-第三方模块包与-Npm安装" class="headerlink" title="2.4 第三方模块包与 Npm安装"></a>2.4 第三方模块包与 Npm安装</h3><p>只要安装了 node 就有了 npm。</p>
<p>通过 <code>npm -v</code> 测试是否有 npm 工具。</p>
<h3 id="2-5使用-npm-安装包"><a href="#2-5使用-npm-安装包" class="headerlink" title="2.5使用 npm 安装包"></a>2.5使用 npm 安装包</h3><ol>
<li>找到能解决自己问题的包，看文档使用说明</li>
<li>通过 <code>npm install 包名</code> 下载到当前项目中的根目录</li>
<li>在代码中通过 <code>require(&#39;第三方包名&#39;)</code> 使用你下载的包</li>
</ol>
<p>通过 <code>npm install 包名</code> 安装的包会自动下载到当前目录下的 <code>node_modules</code> 目录，<br>如果该目录不存在，则直接创建，如果已存在，则直接将文件下载进去。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/10/test/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Shuai Li">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="帅博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="帅博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/10/test/" itemprop="url">
                  test
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-10T09:01:35+08:00">
                2017-02-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="Shuai Li" />
          <p class="site-author-name" itemprop="name">Shuai Li</p>
          <p class="site-description motion-element" itemprop="description">Where there is a will there is a way</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Shuai Li</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  



  
  

  

  

  

  


</body>
</html>
